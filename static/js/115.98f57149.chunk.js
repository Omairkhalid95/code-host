(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[115],{407:function(e,a,t){"use strict";t.r(a);var n=t(6),o=t(1),l=t(14),c=t(7),r=t(1019),m=t(167),s=t(926),u=t(303),i=t(125),d=t(1018),b=t(23),p=t(15),j=t(44),v=t(774),O=t(0),h=t(762),f=t(149),g=t(140),x=t(666),A=t(244),E=t(243),y=t(3);a.default=function(e){var a,t,N,S,T,L,D=e.onCancelToggleAllocationModal,I=e.employee,_=Object(O.useState)([]),k=Object(c.a)(_,2),w=k[0],R=k[1],C=Object(O.useState)([]),U=Object(c.a)(C,2),M=U[0],P=U[1],B=Object(O.useState)([]),F=Object(c.a)(B,2),q=F[0],J=F[1],V=Object(O.useState)(!1),G=Object(c.a)(V,2),Y=G[0],z=G[1],H=Object(O.useState)(!1),W=Object(c.a)(H,2),X=W[0],K=W[1],Q=Object(j.d)((function(e){return e.myTeams.domainList})),Z=Object(j.d)((function(e){return e.myTeams.masterData.AssignedLevel})),$=r.a.useForm(),ee=Object(c.a)($,1)[0],ae=m.a.Option,te=m.a.OptGroup,ne=v.h.ACCOUNT,oe=v.h.PROJECT,le=v.h.ALLOCATION_LEVEL,ce=v.h.ALLOCATION_STATUS,re=v.h.START_DATE,me=v.h.DOMAIN_NAME,se=v.h.SUB_DOMAIN,ue=s.a.confirm,ie=Object(f.a)();Object(O.useEffect)((function(){je()}),[]);var de=function(){var e=Object(l.a)(Object(n.a)().mark((function e(a){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K(!0),e.next=4,ee.validateFields();case 4:t=e.sent,ue({title:ie(v.e),centered:!0,onOk:function(){var e=Object(l.a)(Object(n.a)().mark((function e(){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.addAllocation(Object(o.a)(Object(o.a)({},t),{},{empId:I.employeeId}));case 3:200===(a=e.sent).statusCode?(ee.resetFields(),u.b.success(null===a||void 0===a?void 0:a.message),D()):u.b.error(null===a||void 0===a?void 0:a.message),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:return e.prev=10,K(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}()}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(b.gb.value,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),be=function(){Y?ue({title:b.n.value,centered:!0,onOk:function(){D()}}):(ee.resetFields(),D())},pe=function(){var e=Object(l.a)(Object(n.a)().mark((function e(a){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ee.setFieldsValue({subdomain:null}),e.next=4,A.a.getSubDomainsInfoByDomainId(a);case 4:t=e.sent,J(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Something went wrong while fetching subdomains",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}(),je=function(){var e=Object(l.a)(Object(n.a)().mark((function e(){var a,t,o,l,r,m;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=x.a.accountList(),t=x.a.getList(),e.next=5,Promise.all([a,t]);case 5:o=e.sent,l=Object(c.a)(o,2),r=l[0],m=l[1],R(m),P(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Unable to populate project list",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(s.a,{visible:!0,title:ie(v.a),onCancel:be,onOk:de,bodyStyle:{overflowY:h.n.text,maxHeight:h.n.value},footer:[Object(y.jsx)(i.a,{onClick:be,children:g.e.text},b.J.value),Object(y.jsx)(i.a,{onClick:de,type:b.I.value,children:g.c.value},b.I.value)],okButtonProps:{loading:X},children:Object(y.jsxs)(r.a,Object(o.a)(Object(o.a)({form:ee,name:b.B.text,layout:h.o.text,onFieldsChange:function(){z(!0)}},{labelCol:{span:8},wrapperCol:{span:14}}),{},{children:[Object(y.jsx)(r.a.Item,{name:oe.name,label:ie(oe.label),rules:[{required:!0}],children:Object(y.jsx)(m.a,{showArrow:!0,showSearch:!0,optionFilterProp:b.j,placeholder:ie(b.ab.label,oe.label),children:Object(y.jsx)(te,{label:null===h.k||void 0===h.k?void 0:h.k.value,children:null===(a=p.a.sortArray(w,oe.name))||void 0===a?void 0:a.map((function(e){return Object(y.jsx)(ae,{value:null===e||void 0===e?void 0:e.projectId,children:null===e||void 0===e?void 0:e.projectName},null===e||void 0===e?void 0:e.projectId)}))})})}),Object(y.jsx)(r.a.Item,{name:ne.name,label:ie(ne.label),rules:[{required:!0}],children:Object(y.jsx)(m.a,{showArrow:!0,showSearch:!0,optionFilterProp:b.j,placeholder:ie(b.ab.label,ne.label),children:Object(y.jsx)(te,{label:null===h.a||void 0===h.a?void 0:h.a.value,children:null===(t=p.a.sortArray(M,ne.name))||void 0===t?void 0:t.map((function(e){return Object(y.jsx)(ae,{value:e.accountId,children:e.accountName},e.accountId)}))})})}),Object(y.jsx)(r.a.Item,{name:me.name,label:ie(me.label),rules:[{required:!0}],children:Object(y.jsx)(m.a,{showArrow:!0,showSearch:!0,optionFilterProp:b.j,placeholder:ie(b.ab.label,me.label),onChange:pe,children:Object(y.jsx)(te,{label:null===h.e||void 0===h.e?void 0:h.e.value,children:null===(N=p.a.sortArray(Q,me.name))||void 0===N?void 0:N.map((function(e){return Object(y.jsx)(ae,{value:e.domainId,children:e.domainName},e.domainId)}))})})}),Object(y.jsx)(r.a.Item,{name:se.name,label:ie(se.label),rules:[{required:!0}],children:Object(y.jsx)(m.a,{placeholder:ie(b.ab.label,se.label),children:null===(S=p.a.sortArray(q,"subDomainName"))||void 0===S?void 0:S.map((function(e){return Object(y.jsx)(ae,{value:e.subDomainId,children:e.subDomainName},e.subDomainId)}))})}),Object(y.jsx)(r.a.Item,{name:le.name,label:ie(le.label),rules:[{required:!0}],children:Object(y.jsx)(m.a,{placeholder:ie(b.ab.label,le.label),children:null===(T=p.a.sortArray(Z))||void 0===T?void 0:T.map((function(e){return Object(y.jsx)(ae,{value:e,children:e},e)}))})}),Object(y.jsx)(r.a.Item,{label:ie(ce.label),name:ce.name,rules:[{required:!0}],children:Object(y.jsx)(m.a,{placeholder:ie(b.ab.label,ce.label),children:null===(L=p.a.sortArray(["Reserved","Shadow"]))||void 0===L?void 0:L.map((function(e){return Object(y.jsx)(ae,{value:e,children:e},e)}))})}),Object(y.jsx)(r.a.Item,{label:ie(re.label),name:re.name,rules:[{required:!0}],children:Object(y.jsx)(d.a,{className:"w-100",format:b.p})})]}))})}},762:function(e,a,t){"use strict";t.d(a,"r",(function(){return l})),t.d(a,"c",(function(){return c})),t.d(a,"l",(function(){return r})),t.d(a,"j",(function(){return m})),t.d(a,"f",(function(){return s})),t.d(a,"g",(function(){return u})),t.d(a,"n",(function(){return i})),t.d(a,"o",(function(){return d})),t.d(a,"k",(function(){return b})),t.d(a,"e",(function(){return p})),t.d(a,"a",(function(){return j})),t.d(a,"d",(function(){return v})),t.d(a,"b",(function(){return O})),t.d(a,"q",(function(){return h})),t.d(a,"p",(function(){return f})),t.d(a,"h",(function(){return g})),t.d(a,"m",(function(){return x})),t.d(a,"i",(function(){return A}));var n=t(9),o=(t(252),t(3)),l={text:"component.manageproject.updatesuccess.msg",value:"project updated successfuly"},c={text:"component.manageproject.projectsuccess.msg",value:"project created successfuly"},r=(n.a,n.a,n.a,{text:Object(o.jsx)(n.a,{id:"component.manageproject.projectstatus.msg"}),value:"project status is required"}),m={text:Object(o.jsx)(n.a,{id:"component.manageproject.projectdate.msg"}),value:"project start and end date is required"},s={text:Object(o.jsx)(n.a,{id:"component.manageprojects.editproject.datecheckbox"}),value:"Select this option if the updated project end date has to be updated with the billing end date for all the team members."},u=(n.a,{text:Object(o.jsx)(n.a,{id:"component.manageproject.editproject.title"}),value:"Update Project"}),i={text:"calc(100vh - 200px)",value:"auto"},d={text:"horizontal",value:"horizontal"},b={text:"projectName",value:"Project Name"},p={text:"domainName",value:"Domain Name"},j={text:"accountName",value:"Account Name"},v=(n.a,{text:Object(o.jsx)(n.a,{id:"component.common.confirm.message"}),value:"Are you sure you want to cancel this?"}),O={text:"component.common.confirm.addproject.message",value:"Are you sure you want to add this project?"},h={text:"component.common.confirm.updateproject.message",value:"Are you sure you want to update this project?"},f=(n.a,{DATE:{label:"component.manageprojects.manageteams.date.heading",text:"component.manageprojects.manageteams.startdate",value:"startDate"}}),g={EXTEND_LABEL:{label:"common.label.extend",value:"extend"},PARENT_ACCOUNT_LABEL:{label:"common.label.parent.account",value:"accountName"},RESERVED_FOR_LABEL:{label:"component.manage.projects.reservedFor.placeholder",value:"accountName"},RELEASE_LABEL:{label:"common.label.release.text",value:"release"},PROJECT_NAME:{label:"common.label.projectname",name:"projectName",value:"projectId"},EMPLOYEE_ID:{label:"common.label.employeeId",name:"employeeId"},ACCOUNT_NAME:{label:"common.label.accountname",name:"accountName"},DOMAIN_NAME:{name:"domainName",value:"domainId",label:"common.label.domainname"},DELIVERY_LEAD:{name:"deliveryLead",label:"common.label.deliverylead"},PROJECT_STATUS:{name:"projectStatus",label:"component.manageprojects.project.status.label"},PROJECT_DATE:{name:"projectDate",label:"component.manageprojects.project.date.label",errorMessage:"component.manageproject.projectdate.msg"},EMPLOYEE:{name:"employeeName",label:"common.label.employeeName"},SUB_DOMAIN:{value:"subDomainId",name:"subdomain",label:"common.label.subdomain.name.label"},ASSIGNED_ROLE:{name:"assignedRole",label:"component.manage.projects.assignedlevel.label"},ASSIGNED_LEVEL:{name:"assignedLevel",label:"component.manage.projects.assignedlevel.label"},ALLOCATION_STATUS:{name:"allocationStatus",label:"component.manage.projects.allocationstatus.lablel"},ALLOCATION_SUB_STATUS:{name:"allocationSubStatus",label:"component.manage.projects.allowed.allocation.substatus.lablel"},ALLOWED_ALLOCATION_STATUS:{name:"allowedAllocationSubStatues",label:"component.manage.projects.allowed.allocationstatus.lablel"},BILLABLE_STATUS:{name:"billableStatus",label:"common.label.billablestatus"},ADD_RESOURCE_ON_BEHALF:{name:"addResourceOnBehalf",label:"component.manage.projects.behalfof.placeholder"},RESERVED_FOR:{name:"reservedFor",label:"component.manage.projects.reservedFor.placeholder"},DESIGNATION:{name:"designation",label:"common.label.designation"},PROJECT_START_DATE:{name:"projectStartDate",label:"component.myprojectallocations.project_start_date.heading",errorMessage:"component.manageproject.projectstartdate.msg"},PROJECT_END_DATE:{name:"projectEndDate",label:"component.myprojectallocations.project_end_date.heading",errorMessage:"component.manageproject.projectenddate.msg"},NOTES:{value:"notes",name:"notes",label:"common.label.notes"}},x={RESERVATION:{label:"common.label.reservation",message:"common.label.reservation.message",name:"comments",text:"component.common.update.text",extendText:"component.manageprojects.action.text.extend"},UPDATE_STATUS:{label:"common.label.update.status",value:"updateStatus"},RELEASE:{label:"common.label.release",message:"common.label.release.date.message",name:"releaseDate",text:"component.manageprojects.action.label.release"}},A={MODAL_TITLE:{title:"component.manageprojects.action.label.extend.reservation",text:"component.manageprojects.action.label.release.employee"}}},774:function(e,a,t){"use strict";t.d(a,"a",(function(){return n})),t.d(a,"e",(function(){return o})),t.d(a,"i",(function(){return l})),t.d(a,"b",(function(){return c})),t.d(a,"d",(function(){return r})),t.d(a,"f",(function(){return m})),t.d(a,"c",(function(){return s})),t.d(a,"g",(function(){return u})),t.d(a,"h",(function(){return i}));var n="component.manage.employees.add.allocation.label",o="component.manage.employees.add.allocation.confirmation",l="component.manage.employees.reservation.detail.label",c="component.manage.employees.reservation.popup.title",r="component.common.status.available.from",m="component.manage.employees.feedback.detail.label",s={accountName:{label:"common.label.accountname",key:"accountName",type:"text"},projectName:{type:"text",label:"common.label.projectname",key:"projectName"},domainName:{type:"text",label:"common.label.domain",key:"domainName"},subDomainName:{type:"text",label:"common.label.subdomain.label",key:"subDomainName"},allocationStatus:{type:"text",label:"component.manage.projects.allocationstatus.lablel",key:"allocationStatus"},startDate:{type:"date",label:"common.label.allocation.start.date",key:"startDate"},endDate:{type:"date",label:"common.label.allocation.end.date",key:"reservationExpiryDate"}},u={name:{label:"manage.employee.reservation.feedback",key:"givenByName",type:"text"},email:{label:"common.label.email",key:"givenByEmail",type:"text"},date:{label:"common.label.date",key:"givenOn",type:"date"},feedback:{label:"common.label.feedback",key:"feedback",type:"text"}},i={ACCOUNT:{label:"common.label.accountname",name:"accountName"},PROJECT:{label:"common.label.projectname",name:"projectName"},DOMAIN_NAME:{name:"domainName",label:"common.label.domainname"},SUB_DOMAIN:{name:"subdomain",label:"common.label.subdomain.name.label"},ALLOCATION_LEVEL:{name:"allocationLevel",label:"component.manage.projects.assignedlevel.label"},ALLOCATION_STATUS:{name:"allocationStatus",label:"component.manage.projects.allocationstatus.lablel"},START_DATE:{name:"startDate",label:"component.common.start.date"},REASON:{name:"releaseFeedbackReason",label:"component.common.reason.reserve"},ASSIGNED_LEVEL:{name:"assignedLevel",label:"component.manage.projects.assignedlevel.label"},NOTES:{name:"notes",label:"common.label.notes"},LEVER:{value:"leverURL",name:"leverURL",label:"common.myprojectallocations.project_lever_url"}}}}]);
//# sourceMappingURL=115.98f57149.chunk.js.map