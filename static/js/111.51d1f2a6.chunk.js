(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[111],{339:function(e,a,l){"use strict";l.r(a);var o=l(6),t=l(14),n=l(1),m=l(7),i=l(167),c=l(1019),d=l(926),r=l(303),s=l(768),u=l(769),p=l(1018),b=l(129),E=l(23),S=l(149),T=l(38),A=l.n(T),y=l(0),_=l.n(y),v=l(44),O=l(243),f=l(140),I=l(669),D=l(3);a.default=function(e){var a=e.handleOk,l=e.handleCancel,T=e.visible,h=e.employeeToEdit,N=e.handleRefresh,U=i.a.Option,g=Object(v.d)((function(e){return e.myTeams.masterData.EmployeeSubStatus})),R=Object(y.useState)(!1),j=Object(m.a)(R,2),P=j[0],x=j[1],L=Object(y.useState)(""),M=Object(m.a)(L,2),C=M[0],k=M[1],B=Object(y.useState)(null!==h&&void 0!==h&&h.empSubStatus?null===h||void 0===h?void 0:h.empSubStatus:null!==h&&void 0!==h&&h.subStatus?null===h||void 0===h?void 0:h.subStatus:null),w=Object(m.a)(B,2),Y=w[0],F=w[1],G=Object(y.useState)(null),X=Object(m.a)(G,2),V=(X[0],X[1]),H=c.a.useForm(),J=Object(m.a)(H,1)[0],z=d.a.confirm,q=Object(S.a)(),K={employeeId:null===h||void 0===h?void 0:h.employeeId,subStatus:(null===h||void 0===h?void 0:h.empSubStatus)||(null===h||void 0===h?void 0:h.subStatus),toDate:null!==h&&void 0!==h&&h.empSubStatusEndDate?A()(null===h||void 0===h?void 0:h.empSubStatusEndDate):null!==h&&void 0!==h&&h.toDate?A()(null===h||void 0===h?void 0:h.toDate):null,fromDate:null!==h&&void 0!==h&&h.empSubStatusStartDate?A()(null===h||void 0===h?void 0:h.empSubStatusStartDate):null!==h&&void 0!==h&&h.fromDate?A()(null===h||void 0===h?void 0:h.fromDate):null};var Q=function(e){901===(null===e||void 0===e?void 0:e.statusCode)||906===(null===e||void 0===e?void 0:e.statusCode)?(r.b.success(906===e.statusCode?q(I.g.EMPLOYEE_UPDATE_SUCCESS):q(I.g.EMPLOYEE_CREATE_SUCCESS)),a(),N(),l(),J.resetFields()):k((null===e||void 0===e?void 0:e.message)||"")},W=function(){var e=Object(t.a)(Object(o.a)().mark((function e(a){var l,t,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,x(!0),!Z()){e.next=10;break}return e.next=5,O.a.updateSubStatus(a);case 5:if(l=e.sent,400!==(null===(t=l)||void 0===t?void 0:t.statusCode)&&401!==(null===(n=l)||void 0===n?void 0:n.statusCode)){e.next=10;break}return e.next=9,O.a.createSubStatus(a);case 9:l=e.sent;case 10:Q(l),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Unable to save employee data",e.t0);case 16:return e.prev=16,x(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(a){return e.apply(this,arguments)}}(),Z=_.a.useCallback((function(){return h&&!0}),[h]);return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(d.a,{title:Z()?q(I.g.MODAL_TITLE_UPDATE):q(I.g.MODAL_TITLE_ADD),visible:T,centered:!0,width:"33%",okText:Z()?q(I.g.UPDATE_TEXT):q(I.g.ADD_TEXT),onOk:function(){J.validateFields().then((function(e){W(Object(n.a)(Object(n.a)({},e),{},{employeeId:null===h||void 0===h?void 0:h.employeeId}))})).catch((function(e){console.log(E.gb.value,e)}))},onCancel:function(){J.isFieldsTouched()?z({title:f.f.value,centered:!0,onOk:function(){l()},onCancel:function(){}}):l()},okButtonProps:{loading:P,id:"add-emp-addBtn"},cancelButtonProps:{id:"add-emp-cancelBtn"},closeIcon:Object(D.jsx)(b.a,{id:"add-emp-close-modal-btn"}),children:Object(D.jsxs)(c.a,Object(n.a)(Object(n.a)({},{labelCol:{span:10},wrapperCol:{span:14}}),{},{layout:"horizontal",form:J,labelAlign:"left",initialValues:h?K:{role:"Employee"},requiredMark:"",children:[Object(D.jsxs)(s.a,{gutter:24,children:[Object(D.jsx)(u.a,{className:"mb-1",xs:24,children:Object(D.jsx)(c.a.Item,{label:q(I.i.EMPLOYEE_SUB_STATUS.label),name:I.i.EMPLOYEE_SUB_STATUS.name,children:Object(D.jsx)(i.a,{placeholder:q(I.i.EMPLOYEE_SUB_STATUS.label),allowClear:!0,onChange:function(e){return F(e)},value:null===h||void 0===h?void 0:h.subStatus,children:null===g||void 0===g?void 0:g.map((function(e){return Object(D.jsx)(U,{value:e,children:e},e)}))})})}),Y&&Object(D.jsx)(u.a,{className:"mb-1",xs:24,children:Object(D.jsx)(c.a.Item,{label:Object(D.jsx)("div",{className:"text-wrap",children:"".concat(Y," ").concat(q(I.i.SUB_STATUS_START_DATE.label))}),name:I.i.SUB_STATUS_START_DATE.name,rules:[{required:!Z(),message:q(E.k.REQIRED_PREFIX,I.i.SUB_STATUS_START_DATE.label)}],children:Object(D.jsx)(p.a,{onSelect:function(e){return V(e)},format:E.p,value:null===h||void 0===h?void 0:h.fromDate,id:"emp-date-of-joining",className:"w-100"})})}),Y&&Object(D.jsx)(u.a,{className:"mb-1",xs:24,children:Object(D.jsx)(c.a.Item,{label:Object(D.jsx)("div",{className:"text-wrap",children:"".concat(Y," ").concat(q(I.i.SUB_STATUS_END_DATE.label))}),name:I.i.SUB_STATUS_END_DATE.name,rules:[{required:!Z(),message:q(E.k.REQIRED_PREFIX,I.i.SUB_STATUS_END_DATE.label)}],children:Object(D.jsx)(p.a,{format:E.p,value:null===h||void 0===h?void 0:h.toDate,className:"w-100"})})})]}),Object(D.jsx)(u.a,{children:C&&Object(D.jsxs)("div",{className:"text-left my-3",style:{color:"red"},children:["* ",C]})})]}))})})}},669:function(e,a,l){"use strict";l.d(a,"n",(function(){return o})),l.d(a,"l",(function(){return t})),l.d(a,"f",(function(){return n})),l.d(a,"j",(function(){return m})),l.d(a,"m",(function(){return i})),l.d(a,"b",(function(){return c})),l.d(a,"h",(function(){return d})),l.d(a,"g",(function(){return r})),l.d(a,"i",(function(){return s})),l.d(a,"e",(function(){return u})),l.d(a,"a",(function(){return p})),l.d(a,"k",(function(){return b})),l.d(a,"c",(function(){return E})),l.d(a,"d",(function(){return S}));var o="email",t={ACTIVE_STATUS:{label:"component.common.status.active",value:"Active"},INACTIVE_STATUS:{label:"component.common.status.inactive",value:"In Active"},ALL_STATUS:{label:"component.common.status.all",value:"all"}},n={TEMPORARY:{label:"component.manageemployees.label.temporary",value:"TEMPORARY_EXIT"},PERMANENT:{label:"component.manageemployees.label.permanent",value:"PERMANENT_EXIT"}},m=[{label:"component.manageemployees.label.permanent.resigned",value:"RESIGNED"},{label:"component.manageemployees.label.permanent.termination",value:"TERMINATION"}],i=[{label:"component.manageemployees.label.temporary.visaAuthorisation",value:"VISA_AUTHORISATION"},{label:"component.manageemployees.label.temporary.personal",value:"PERSONAL"}],c=[{label:"common.label.reserved",value:"RESERVED"},{label:"common.label.shadow",value:"SHADOW"},{label:"common.label.internal_billable",value:"INTERNAL_BILLABLE"}],d={EMPLOYEE_ID:{label:"common.label.employeeId",key:"employeeId",type:"text",width:120},HRMS_ID:{label:"common.label.hrmsId",key:"hrmsId",type:"text",width:120},EMPLOYEE_NAME:{label:"common.label.employeeName",key:"employeeName",type:"text",width:150},LOCATION:{label:"common.label.location",key:"empLocation",type:"text",width:120},PARENT_ACCOUNT:{label:"common.label.parent.account",key:"parentAccount",type:"text",width:130},RESERVED_FOR:{label:"component.manageemployees.reservedFor.heading",key:"reservedForAccount",type:"text",width:130},EMP_SKILLS:{key:"employeeSkills",label:"component.myprofile.employeeskills.label",type:"text",width:170},ASSIGN_LEVEL:{key:"assignedLevel",label:"component.manage.projects.assignedlevel.label",type:"text",width:170},ALLOCATION_SUB_STATUS:{label:"component.manage.projects.allocationstatus.lablel",key:"allocationStatus",type:"text",width:120},EXPERIENCE:{label:"common.label.experience",key:"totalExperience",type:"text",width:130},DESIGNATION:{label:"common.label.designation",key:"designation",type:"text",width:130},FUNCTIONAL_GROUP:{label:"common.label.functionalgroup",key:"functionalGroup",type:"text",width:130},DATE_OF_JOINING:{label:"common.label.dateofjoining",key:"dateOfJoining",type:"date",width:130},DATE_OF_LEAVING:{label:"common.label.dateofleaving",key:"endDate",type:"date",width:130},EMAIL:{label:"common.label.emailid",key:"emailId",type:"text",width:180},EMP_SUB_STATUS:{label:"common.report.Employee.UnAvailable.reason",key:"empSubStatus",type:"text",width:130},EMP_SUB_STATUS_START_DATE:{label:"common.label.substatusstartdate",key:"empSubStatusStartDate",type:"date",width:130},EMP_SUB_STATUS_END_DATE:{label:"common.label.substatusenddate",key:"empSubStatusEndDate",type:"date",width:130},DEPLOYMENT_STATUS:{label:"common.label.deploymentstatus",key:"nonDeployable",type:"text",width:130}},r={MODAL_TITLE_ADD:"component.addemployeeform.modalTitle",MODAL_TITLE_UPDATE:"component.updateemployeeform.modalTitle",UPDATE_TEXT:"component.common.update.text",ADD_TEXT:"component.common.add.text",PERSONAL_INFO:"component.addemployeeform.personalInfo.header",ORGANIZATIONAL_INFO:"component.addemployeeform.organizationInfo.header",OTHER_INFO:"component.addemployeeform.otherInfo.header",RESUMES:"component.addemployeeform.resumes.header",EMPLOYEE_CREATE_SUCCESS:"component.addemployeeform.success.message",EMPLOYEE_UPDATE_SUCCESS:"component.addemployeeform.update.message",EMPLOYEE_ID:"common.label.employeeId",EMPLOYEEP_NAME:"common.label.employeeName",CURRENT_STATUS:"common.label.current.status",START_DATE_LABEL:"component.manageprojects.manageteams.startdate.heading",PARENT_ACCOUNT:"common.label.parent.account",PARENT_ACCOUNT_UPDATED:"common.label.parent.account.updated",MARK_INACTIVE:"common.label.emp.mark.inactive",MANAGE_UNAVIALABLE:"common.label.emp.manage.unavailable",EMPLOYEE_DEACTIVATED_ACCOUNT_SUCCESS:"component.addemployeeform.deactivatedAccount.success.message"},s={EMPLOYEE_ID:{label:"common.label.employeeId",name:"employeeId"},HRMS_ID:{label:"common.label.hrmsId",name:"hrmsId"},EMPLOYEE_NAME:{label:"common.label.employeeName",name:"employeeName"},GENDER:{label:"component.addemployeeform.personalInfo.gender.label",name:"gender"},MOBILE_NO:{label:"common.label.mobileno",name:"mobileNumber",invalidMessage:"component.addemployeeform.mobileno.message.validation"},EMAIL:{label:"common.label.email",name:"emailId",invalidMessage:"component.addemployeeform.email.invalid.error.message"},DOJ:{label:"common.label.dateofjoining",name:"dateOfJoining"},DOB:{label:"component.addemployeeform.personalInfo.birthDate.label",name:"dateOfBirth",invalidMessage:"component.addemployeeform.personalInfo.birthDate.validation"},EMP_STATUS:{label:"common.label.status",name:"empStatus"},FUNCTIONAL_GROUP:{label:"common.label.functionalgroup",name:"functionalGroup"},DESIGNATION:{label:"common.label.designation",name:"designation"},COUNTRY:{label:"component.addemployeeform.organizationInfo.country.label",name:"country"},LOCATION:{label:"common.label.location",name:"empLocation"},EMPLOYEMENT_TYPE:{label:"component.addemployeeform.organizationInfo.employementType.label",name:"employmentType"},SKILLS:{label:"component.myprofile.primaryskills.label",name:"baseTechnology"},PARENT_ACCOUNT_NAME:{label:"component.addemployeeform.parentaccountname",name:"parentAccountName"},PREVIOUS_EXPERIENCE:{label:"component.addemployeeform.otherInfo.previousExperience.label",name:"previousExperience",invalidMessage:"component.addemployeeform.otherInfo.previousExperience.error"},ORG_ROLE:{label:"component.addemployeeform.otherInfo.orgRole.label",name:"role"},HAS_PASSPORT:{label:"component.addemployeeform.otherInfo.hasPassport.label",name:"hasPassort"},PASSPORT_EXPIRY:{label:"component.addemployeeform.passportexpirydate",name:"passportExpiryDate"},HAS_B1:{label:"component.addemployeeform.hasB1",name:"hasB1"},B1_EXPIRY:{label:"component.addemployeeform.hasB1.expiryDate.title",name:"b1ExpiryDate"},EXIT_DATE:{label:"component.addemployeeform.inactive.endDate",name:"endDate",invalidMessage:"component.addemployeeform.inactive.endDate.invalid"},EMPLOYEE_SUB_STATUS:{label:"common.report.Employee.UnAvailable.reason",name:"subStatus"},SUB_STATUS_START_DATE:{label:"common.label.substatusstartdate",name:"fromDate"},SUB_STATUS_END_DATE:{label:"common.label.substatusenddate",name:"toDate"},EMP_SUB_STATUS:{label:"common.label.employeeSubStatus",name:"empSubStatus"},DEPLOYMENT_STATUS:{label:"common.label.deploymentstatus",name:"nonDeployable"},REHIRE_DATE:{label:"common.label.rehire.Date",name:"rehireDate"}},u={EXIT_TYPE:{label:"component.manageemployees.label.exitType",name:"exitType"},EXIT_REASON:{label:"component.manageemployees.label.exitReason",name:"exitReason"},END_DATE:{label:"component.manageprojects.enddate.heading",name:"endDate"}},p={ADMIN:{key:"Admin"},SUPER_ADMIN:{key:"Super_Admin"}},b=[p.SUPER_ADMIN.key,p.ADMIN.key,"RMG"],E=["#108ee9","#87d068"],S={name:"component.bulkuploademployee.header",value:"Uploaded Employee History"}},768:function(e,a,l){"use strict";var o=l(318);a.a=o.a},769:function(e,a,l){"use strict";var o=l(319);a.a=o.a}}]);
//# sourceMappingURL=111.51d1f2a6.chunk.js.map