{"version":3,"sources":["views/app-views/manage-group/domains/UploadDomain.jsx","assets/data/domain.xls"],"names":["UploadDomain","_ref","visible","onCancel","_Form$useForm","Form","useForm","form","_slicedToArray","_useState","useState","_useState2","file","setFile","getMessage","useIntlMessage","dispatch","useDispatch","handleFileUpload","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","response","_response$records","_response$records2","_response$records2$ex","wrap","_context","prev","next","showLoader","FormData","append","FILE_EXTENTION","domainService","uploadDocument","sent","statusCode","records","existingDomainList","length","message","warning","map","x","success","t0","console","error","finish","stop","apply","arguments","handleOk","validateFields","then","catch","info","log","VALIDATION_FAILED","value","_jsxs","Modal","title","footer","_jsx","Button","onClick","children","CANCEL_TEXT","text","type","disabled","className","DownloadOutlined","href","domainsFile","target","download","rel","onFinish","layout","Item","Upload","maxCount","multiple","beforeUpload","onChange","e","accept","ACCEPT_FILE_LIST","UploadOutlined"],"mappings":"uQA2FeA,UAjFM,SAAHC,GAA+B,IAAzBC,EAAOD,EAAPC,QAASC,EAAQF,EAARE,SAC/BC,EAAeC,IAAKC,UAAbC,EAAsBC,YAAAJ,EAAA,GAAlB,GACXK,EAAwBC,qBAAUC,EAAAH,YAAAC,EAAA,GAA3BG,EAAID,EAAA,GAAEE,EAAOF,EAAA,GACdG,EAAaC,cACbC,EAAWC,cAMXC,EAAgB,eAAAC,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAP,cAAAQ,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAIiB,OAJjBF,EAAAC,KAAA,EAErBf,EAASiB,aAAW,KAChBT,EAAW,IAAIU,UACVC,OAAOC,IAAgBxB,GAAMkB,EAAAE,KAAA,EACfK,IAAcC,eAAed,GAAU,KAAD,EAChC,OAAjB,QADNC,EAAQK,EAAAS,YACF,IAARd,OAAQ,EAARA,EAAUe,cACwC,KAAhC,QAAhBd,EAAAD,EAASgB,eAAO,IAAAf,OAAA,EAAhBA,EAAkBgB,mBAAmBC,QACvCC,IAAQC,QAAwB,QAAjBlB,EAACF,EAASgB,eAAO,IAAAd,GAAoB,QAApBC,EAAhBD,EAAkBe,0BAAkB,IAAAd,OAApB,EAAhBA,EAAsCkB,KAAI,SAAAC,GAAC,OAAK,OAADA,QAAC,IAADA,OAAC,EAADA,EAAGH,OAAO,KAEzEA,IAAQI,QAAgB,OAARvB,QAAQ,IAARA,OAAQ,EAARA,EAAUmB,UAE7Bd,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAmB,GAAAnB,EAAA,SAEDoB,QAAQC,MAAKrB,EAAAmB,IAAQ,QAEO,OAFPnB,EAAAC,KAAA,GAErBf,EAASiB,aAAW,IAAQH,EAAAsB,OAAA,6BAAAtB,EAAAuB,OAAA,GAAA9B,EAAA,yBAE/B,kBAlBqB,OAAAJ,EAAAmC,MAAA,KAAAC,UAAA,KAmBhBC,EAAW,WACfjD,EACGkD,iBACAC,MAAK,WACJxC,EAAiBN,GACjBT,GACF,IACCwD,OAAM,SAAAC,GACLV,QAAQW,IAAIC,KAAkBC,MAAOH,EACvC,GACJ,EACA,OACEI,eAACC,IAAK,CACJ/D,QAASA,EACTgE,MAAOpD,EAAW,wBAClBX,SAAUA,EACVgE,OAAQ,CACNC,cAACC,IAAM,CAAgBC,QAASnE,EAASoE,SACtCC,IAAYC,MADF,UAGbL,cAACC,IAAM,CAAcC,QAASd,EAAUkB,KAAK,UAAUC,UAAW/D,EAAK2D,SACpEzD,EAAW,wCADD,SAGbyD,SAAA,CAEFH,cAAA,OAAKQ,UAAU,mBAAkBL,SAC/BP,eAAA,QAAMY,UAAU,kBAAiBL,SAAA,CAC/BH,cAACS,IAAgB,CAACD,UAAU,SAC5BR,cAAA,KAAGU,KAAMC,IAAaC,OAAO,SAASC,SAAS,yBAAyBC,IAAI,aAAYX,SACrFzD,EAAW,2CAIlBsD,cAAC/D,IAAI,CAACE,KAAMA,EAAM4E,SAAU3B,EAAU4B,OAAQ,aAAab,SACzDH,cAAC/D,IAAKgF,KAAI,CAACT,UAAU,cAAaL,SAChCP,eAACsB,IAAM,CACLV,UAAU,gBACVW,SAAU,EACVC,UAAU,EACVC,aAAc,kBAAM,CAAK,EACzBC,SA/DO,SAAAC,GACf9E,EAAQ8E,EAAE/E,KACZ,EA8DUgF,OAAQC,IAAiBtB,SAAA,CAExBH,cAAC0B,IAAc,CAAClB,UAAU,SAC1B9D,EAAW,6CAMxB,C,mCCzFe,QAA0B,kC","file":"static/js/117.3a9df229.chunk.js","sourcesContent":["import { Button, Form, message, Modal, Upload } from \"antd\";\nimport { UploadOutlined, DownloadOutlined } from \"@ant-design/icons\";\nimport { ACCEPT_FILE_LIST, CANCEL_TEXT, FILE_EXTENTION, VALIDATION_FAILED } from \"constants/CommonConstants\";\nimport useIntlMessage from \"hooks/useIntlMessage\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport domainService from \"services/DomainService\";\nimport { showLoader } from \"redux/actions/Loader\";\nimport domainsFile from \"assets/data/domain.xls\";\n\nconst UploadDomain = ({ visible, onCancel }) => {\n  const [form] = Form.useForm();\n  const [file, setFile] = useState();\n  const getMessage = useIntlMessage();\n  const dispatch = useDispatch();\n\n  const onChange = e => {\n    setFile(e.file);\n  };\n\n  const handleFileUpload = async () => {\n    try {\n      dispatch(showLoader(true));\n      let formData = new FormData();\n      formData.append(FILE_EXTENTION, file);\n      const response = await domainService.uploadDocument(formData);\n      if (response?.statusCode === 200) {\n        if (response.records?.existingDomainList.length !== 0) {\n          message.warning(response.records?.existingDomainList?.map(x => x?.message));\n        } else {\n          message.success(response?.message);\n        }\n      }\n    } catch (error) {\n      console.error(error);\n    } finally {\n      dispatch(showLoader(false));\n    }\n  };\n  const handleOk = () => {\n    form\n      .validateFields()\n      .then(() => {\n        handleFileUpload(file);\n        onCancel();\n      })\n      .catch(info => {\n        console.log(VALIDATION_FAILED.value, info);\n      });\n  };\n  return (\n    <Modal\n      visible={visible}\n      title={getMessage(\"common.upload.domain\")}\n      onCancel={onCancel}\n      footer={[\n        <Button key={\"cancle\"} onClick={onCancel}>\n          {CANCEL_TEXT.text}\n        </Button>,\n        <Button key={\"form\"} onClick={handleOk} type=\"primary\" disabled={!file}>\n          {getMessage(\"sidenav.components.dataEntry.upload\")}\n        </Button>,\n      ]}\n    >\n      <div className=\"mb-5 text-center\">\n        <span className=\"downlaod-button\">\n          <DownloadOutlined className=\"mr-1\" />\n          <a href={domainsFile} target=\"_blank\" download=\"sample-domain-data.xls\" rel=\"noreferrer\">\n            {getMessage(\"components.dataEntry.sample.File\")}\n          </a>\n        </span>\n      </div>\n      <Form form={form} onFinish={handleOk} layout={\"horizontal\"}>\n        <Form.Item className=\"text-center\">\n          <Upload\n            className=\"ant-btn w-50 \"\n            maxCount={1}\n            multiple={false}\n            beforeUpload={() => false}\n            onChange={onChange}\n            accept={ACCEPT_FILE_LIST}\n          >\n            {<UploadOutlined className=\"mr-2\" />}\n            {getMessage(\"components.dataEntry.Choose.File\")}\n          </Upload>\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default UploadDomain;\n","export default __webpack_public_path__ + \"static/media/domain.cc92ac1d.xls\";"],"sourceRoot":""}